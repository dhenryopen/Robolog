# Robolog

## Goals
* Create a convenient way to generate, store and retrieve telemetry logs generated by [FRC](http://www.firstinspires.org/robotics/frc) robots running [LabVIEW](http://www.ni.com/labview/)
* Load telemetry data via REST APIs, then expose it in a ready-to-consume format (JSON)
* Make the data accessible via HTTP to enable analysis in statistical environments such as [R](https://www.r-project.org/), interactive data visualization tools such as [Tableau](http://www.tableau.com/first-robotics) and [Shiny](https://www.rstudio.com/products/shiny/shiny-user-showcase/) and programs written in Python, Java, C++ and Node.js
* Implement a simple mechanism for generating consistent metadata, i.e., common attributes such as "District", "Team", "Robot", "Match", etc.
* Support collaboration between FRC teams via data sharing and social media
* Provide an "off-robot" environment for programming tutorials
* Use off-the-shelf, open source, zero-cost "back-end" components that can be installed quickly and used without modification
* Enable deployment on local servers or in a hosted environment (e.g. [Microsoft Azure](https://azure.microsoft.com/), [Amazon Web Services](https://aws.amazon.com/) and [Google Cloud](https://cloud.google.com/))


## Components
* A custom LabVIEW [VI module](http://www.ni.com/pdf/manuals/372668d.pdf) that acts as a central "data logger", recording robot metrics at 100ms intervals
* The [CKAN open source data portal](http://ckan.org/) for data ingestion, tagging, indexing, search, retrieval and collaboration 
* A Python client for configuring [metadata](https://github.com/dhenryopen/FRC-2016/blob/master/Robolog/client/set_robolog_config.py)
* A Python client for creating CKAN [datasets](https://github.com/dhenryopen/FRC-2016/blob/master/Robolog/client/create_robolog_dataset.py) (packages) and [resources](https://github.com/dhenryopen/FRC-2016/blob/master/Robolog/client/create_robolog_resource.py) (log files)

## Getting Started

* If you need to install Ubuntu, follow the directions in the [Ubuntu Installation Tutorial for FRC](server/Ubuntu Installation Tutorial for FRC.md)
* If you already have access to Ubuntu Desktop 14.04 LTS (64-bit), proceed to the [Robolog Server](server/README.md) setup guide 
* Once you've installed the Robolog server, review the instructions for installing and testing the [analytic samples](analytics/README.md)
* The [client](client/README.md) directory has more information on the three command-line utilities that are used to configure Robolog and create datasets and resources

## Demos & Samples
* [Robolog Data Portal](http://frc-robolog.org:5000) running on Microsoft Azure
* [Robolog Metrics](htp://frc-robolog.org:3838/shiny-dashboard-prototype) dashboard running on a Shiny server

## Roadmap
* Implement a common schema for robot metrics. This will encourage benchmarking between FRC teams and support "data harvesting" at scale. Suggestion is to evaluate the [data packages](http://dataprotocols.org/tabular-data-package/) format established by the [Open Knowledge Labs](http://okfnlabs.org/)
* Create samples that demonstrate use of the data in various analysis and visualization tools
* Prototype a solution for error condition detection and correlation
* Implement alternative clients (e.g. Node.js) 
* Test and document CKAN security for multi-team deployments

## Metrics (preliminary, subject to change)
    Date                 : chr  "12/22/2015" "12/22/2015" "12/22/2015" "12/22/2015" ...
    Time                 : chr  "13:54:30.167" "13:54:30.267" "13:54:30.368" "13:54:30.468" ...
    FMS Present          : chr  "FALSE" "FALSE" "FALSE" "FALSE" ...
    E-Stop               : chr  "FALSE" "FALSE" "FALSE" "FALSE" ...
    Team Station         : chr  "2" "2" "2" "2" ...
    Countdown            : chr  "-1.000000" "-1.000000" "-1.000000" "-1.000000" ...
    Code Start           : chr  "FALSE" "FALSE" "FALSE" "FALSE" ...
    Brownout             : chr  "FALSE" "FALSE" "FALSE" "FALSE" ...
    Mode                 : chr  "TeleOp" "TeleOp" "TeleOp" "TeleOp" ...
    Code                 : chr  "roboRio" "roboRio" "roboRio" "roboRio" ...
    Contoller Type       : chr  "code" "code" "code" "code" ...
    Error Strings        : chr  "" "" "" "" ...
    Robot IP             : chr  "172.22.11.2" "172.22.11.2" "172.22.11.2" "172.22.11.2" ...
    DB Mode              : chr  "0" "0" "0" "0" ...
    Event Name           : chr  "" "" "" "" ...
    Event Type           : chr  "0" "0" "0" "0" ...
    Event Number         : chr  "0" "0" "0" "0" ...
    Event Replay         : chr  "0" "0" "0" "0" ...
    Camera IP            : chr  "172.22.11.2" "172.22.11.2" "172.22.11.2" "172.22.11.2" ...
    Disk Free            : chr  "283713536" "283713536" "283713536" "283713536" ...
    RM Block             : chr  "0" "0" "0" "0" ...
    RAM Free             : chr  "86945792" "86945792" "86945792" "86945792" ...
    CPU % ISR            : chr  "0.000000" "0.000000" "0.000000" "0.000000" ...
    CPU % Time Crit      : chr  "18.268652" "18.268652" "18.268652" "18.268652" ...
    CPU % Time Str       : chr  "0.000000" "0.000000" "0.000000" "0.000000" ...
    CPU % High           : chr  "0.000000" "0.000000" "0.000000" "0.000000" ...
    CPU % Above          : chr  "0.000000" "0.000000" "0.000000" "0.000000" ...
    CPU % Normal         : chr  "0.000000" "0.000000" "0.000000" "0.000000" ...
    CPU % Low            : chr  "0.154289" "0.154289" "0.154289" "0.154289" ...
    % Bus Utilization    : chr  "3.645533" "3.645533" "3.645533" "3.645730" ...
    Bus off Cnt          : chr  "0" "0" "0" "0" ...
    TX_FIFO Full Count   : chr  "0" "0" "0" "0" ...
    Receive Error Cnt    : chr  "0" "0" "0" "0" ...
    Transmit Error Cnt   : chr  "0" "0" "0" "0" ...
    HID Outputs          : chr  "0" "0" "0" "0" ...
    Rumble Low           : chr  "0" "0" "0" "0" ...
    Rumble High          : chr  "0" "0" "0" "0" ...
    Motor 0              : chr  "0.032240" "0.032240" "0.032240" "0.032240" ...
    Current 0            : chr  "0.000000" "0.000000" "0.000000" "0.000000" ...
    Current 1            : chr  "0.000000" "0.000000" "0.000000" "0.000000" ...
    Current 2            : chr  "0.000000" "0.000000" "0.000000" "0.000000" ...
    Current 3            : chr  "0.000000" "0.000000" "0.000000" "0.000000" ...
    Current 4            : chr  "0.000000" "0.000000" "0.000000" "0.000000" ...
    Current 5            : chr  "0.000000" "0.000000" "0.000000" "0.000000" ...
    Current 6            : chr  "0.000000" "0.000000" "0.000000" "0.000000" ...
    Current 7            : chr  "0.000000" "0.000000" "0.000000" "0.000000" ...
    Current 8            : chr  "0.000000" "0.000000" "0.000000" "0.000000" ...
    Current 9            : chr  "0.000000" "0.000000" "0.000000" "0.000000" ...
    Current 10           : chr  "0.0000000.000000" "0.0000000.000000" "0.0000000.000000" "0.0000000.000000" ...
    Current 12           : chr  "0.000000" "0.000000" "0.000000" "0.000000" ...
    Current 13           : chr  "0.000000" "0.000000" "0.000000" "0.000000" ...
    Current 14           : chr  "0.0000000.000000" "0.0000000.000000" "0.0000000.000000" "0.0000000.000000" ...
    Encoder 1 Distance   : chr  "0.000000" "0.250000" "0.250000" "0.250000" ...
    Limit 1 Value        : chr  "FALSE" "FALSE" "FALSE" "FALSE" ...
## Metadata (example, subject to change)
    district = District.PNW
    driver = Driver.BusterBoy
    event = Event.PRACT
    eventlat = EventLat.48.101
    eventlon = EventLon.-122.799
    match = Match.P1
    robot = Robot.Buster
    server = http://frc-robolog.org:5000
    station = Station.station1
    teamname = Teamname.Roboctopi
    teamnumber = Teamnumber.4918

## Repository

The official Robolog repository is [https://github.com/juxtapose-technologies/robolog](https://github.com/juxtapose-technologies/robolog)